<!--
  @description       : 
  @author            : Abhinav Singh
  @group             : 
  @last modified on  : 01-08-2026
  @last modified by  : Abhinav Singh
-->
<template>
    <template if:false={loadAssessment}>
        <div class="slds-var-p-around_large slds-text-align_center">
            <lightning-icon icon-name="standard:survey" size="large" class="slds-var-m-bottom_medium"></lightning-icon>
            <h1 class="slds-text-heading_large slds-var-m-bottom_small">Mental Health Assessment</h1>
            <p class="slds-text-body_regular slds-var-m-bottom_large">
                Take a brief questionnaire that provides insights about your mental wellness.
            </p>
            <lightning-button variant="brand" label="Start Assessment" onclick={startAssesment}></lightning-button>
        </div>
    </template>
    <template if:true={loadAssessment}>
        <div class="slds-var-p-around_medium">
            <h1 class="slds-text-heading_large slds-var-m-bottom_medium slds-text-align_center">Mental Health Assessment
            </h1>

            <!-- Display only the current question -->
            <template if:true={currentQuestion}>
                <div class="slds-var-m-bottom_large">
                    <template if:true={isQuestionRadio}>
                        <lightning-radio-group key={radioKey} name={currentQuestion.Id}
                            label={currentQuestion.combinedLabel} options={currentQuestion.options}
                            value={currentSelectedAnswer} onchange={handleOptionChange} required type="radio">
                        </lightning-radio-group>
                    </template>
                    <template if:true={isQuestionText}>
                        <lightning-textarea key={radioKey} name={currentQuestion.Id}
                            label={currentQuestion.combinedLabel} value={currentSelectedAnswer}
                            onchange={handleTextChange} required>
                        </lightning-textarea>
                    </template>
                    <!-- <template if:true={isQuestionMultiSelect}>
                        <lightning-checkbox-group name={currentQuestion.Id} label={currentQuestion.combinedLabel}
                            options={currentQuestion.options} value={currentSelectedAnswer}
                            onchange={handleCheckboxChange} required>
                        </lightning-checkbox-group>
                    </template> -->
                    <template if:true={isQuestionMultiSelect}>
                        <lightning-checkbox-group key={radioKey} name={currentQuestion.Id}
                            label={currentQuestion.combinedLabel} options={currentQuestion.options}
                            value={currentSelectedAnswer} onchange={handleCheckboxChange}></lightning-checkbox-group>
                    </template>
                </div>

                <!-- Navigation Buttons -->
                <div class="slds-grid slds-grid_align-spread slds-var-m-top_large">
                    <div>
                        <lightning-button label="Previous" onclick={handlePrevious} disabled={isFirstQuestion}>
                        </lightning-button>
                    </div>
                    <div>
                        <template if:false={isLastQuestion}>
                            <lightning-button variant="brand" label="Next" onclick={handleNext}>
                            </lightning-button>
                        </template>
                        <template if:true={isLastQuestion}>
                            <lightning-button variant="brand" label="Submit" onclick={handleSubmit}>
                            </lightning-button>
                        </template>
                    </div>
                </div>
            </template>
        </div>
    </template>
</template>